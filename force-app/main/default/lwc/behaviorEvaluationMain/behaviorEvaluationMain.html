<template>
    <lightning-card>
        <template if:true={selectedNavItem}>
        <div class="slds-grid">
            <div class="slds-col slds-size_1-of-5 slds-grid slds-grid_vertical navigation-container">
                <lightning-vertical-navigation selected-item={selectedNavItem} onselect={handleNavigationSelect} shadded>
                    <template for:each={tabs} for:item="tab">       
                        <div key={tab.id} class="slds-grid">
                            <div class="slds-col slds-size_5-of-6 container-bottom-border">
                                <lightning-vertical-navigation-item 
                                    label={tab.label} 
                                    name={tab.label}
                                    >    
                                </lightning-vertical-navigation-item>
                            </div>
                            <div class="slds-col slds-size_1-of-6 slds-var-p-top_small container-bottom-border">
                                <lightning-icon
                                    icon-name={tab.iconName}
                                    size="x-small"
                                    variant={tab.status}
                                    >
                                </lightning-icon>
                            </div>
                        </div>                        
                    </template>
                </lightning-vertical-navigation>
            </div>
            <div class="slds-col slds-size_4-of-5">
                <lightning-layout>
                    <lightning-layout-item size="4">
                        <div class="slds-float_left">
                            <lightning-button 
                                name="prevTab" 
                                value="Previous Tab" 
                                label="Previous Tab" 
                                onclick={handlePrevious}
                                class="float"
                            >
                            </lightning-button>
                        </div>
                    </lightning-layout-item>
                    <lightning-layout-item size="4">
                        <template if:true={workingSpinner}>
                            <div class="slds-align_absolute-center">
                            <lightning-icon 
                                icon-name="utility:spinner" 
                                alternative-text="working" 
                                size="medium" 
                                title="working"
                                class="float"
                            >
                            </lightning-icon>
                            </div>
                        </template>
                    </lightning-layout-item>
                    <lightning-layout-item size="4">
                        <div class="slds-float_right">
                            <lightning-button 
                                class="float" 
                                name="nextTab" 
                                value="Next Tab" 
                                label="Next Tab" 
                                onclick={handleNext}
                            >
                        </lightning-button>
                        </div>
                    </lightning-layout-item>
                </lightning-layout>
                <lightning-layout multiple-rows="true">
                    <lightning-layout-item size="6">
                        <lightning-button 
                            variant="Neutral" 
                            label="Complete" 
                            title="skipAndRemove" 
                            onclick={handleComplete}
                            class="slds-m-left_x-small"
                        ></lightning-button>
                    </lightning-layout-item>
                    <lightning-layout-item size="6">
                        <lightning-button 
                            variant="Neutral" 
                            label="Skip" 
                            title="skipAndRemove" 
                            onclick={handleSkip}
                            class="slds-m-left_x-small"
                        ></lightning-button>
                    </lightning-layout-item>
                    
                </lightning-layout>
                <template if:true={activeTab}>
                    selectedTab: {activeTab.label}
                    <c-behavior-evaluation-tab
                        eval-id={recordId}
                        tab={activeTab.id}
                        config-id={activeTab.testSummary.ConfigId__c}
                    ></c-behavior-evaluation-tab>
                </template>
            </div>
        </div>
    </template>
    </lightning-card>
</template>