<template>
    <div class="slds-card slds-card_boundary card-custom">
        <template if:true={isLoading}>
            <lightning-icon icon-name="utility:spinner" alternative-text="Connected" size="xx-small" title="large size">
            </lightning-icon>
        </template>
        <template if:true={protocol}>
            <lightning-record-edit-form
                object-api-name="Plan_Protocol__c"
                record-id={protocol.Id}
                onload={handleOnLoad}
            >
                <lightning-layout multiple-rows pull-to-boundary="small" class="slds-var-p-around_x-small">
                    <lightning-layout-item flexibility="auto" size="12" small-device-size="12" medium-device-size="6" large-device-size="12" padding="horizontal-small" class="slds-var-p-bottom_small">
                        {protocolName}
                    </lightning-layout-item>
                    <lightning-layout-item flexibility="auto" size="8" small-device-size="12" medium-device-size="6" large-device-size="8" padding="horizontal-small" class="slds-var-p-bottom_xxx-small">
                        Notes Last Modified
                        <lightning-output-field field-name={protocolNotesModifiedDateField} variant="label-hidden"> </lightning-output-field>
                    </lightning-layout-item>
                    <lightning-layout-item flexibility="auto" size="4" small-device-size="12" medium-device-size="6" large-device-size="4" padding="horizontal-small" class="slds-var-p-bottom_xxx-small">
                        <lightning-output-field field-name={protocolRemovedField}> </lightning-output-field>
                    </lightning-layout-item>
                    <lightning-layout-item flexibility="auto" size="12" small-device-size="12" medium-device-size="12" large-device-size="12" padding="horizontal-small" class="slds-var-p-bottom_xxx-small">
                        <template if:true={planProtocolInfo.data}>
                            <lightning-textarea value={planProtocolInfo.data.Protocol_Notes__c} onblur={handleInputBlur}></lightning-textarea>
                        </template>
                    </lightning-layout-item>
                </lightning-layout>
            </lightning-record-edit-form>
        </template>
    </div>
</template>